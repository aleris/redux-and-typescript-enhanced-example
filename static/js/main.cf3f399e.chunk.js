(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,s){e.exports={app:"App_app__13Yue",title:"App_title__21tVk"}},20:function(e,t,s){e.exports=s.p+"static/media/bot.caa4eec2.png"},21:function(e,t,s){e.exports=s.p+"static/media/fox.515ea565.png"},22:function(e,t,s){e.exports={chatInterface:"ChatInterface_chatInterface__2FnfJ"}},24:function(e,t,s){e.exports=s.p+"static/media/logo.5d5d9eef.svg"},28:function(e,t,s){e.exports=s(42)},40:function(e,t,s){},42:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(7),r=s(8),c=s(4),i=s(16),o=s(17),u=s(25),m=s(1),l=s(2),p=function(){function e(){Object(m.a)(this,e),this.type=void 0,this.newMessage=void 0}return Object(l.a)(e,null,[{key:"_reduce",value:function(e,t){return{messages:[].concat(Object(u.a)(e.messages),[t.newMessage])}}},{key:"createAction",value:function(t){return{type:e._TYPE,newMessage:t}}}]),e}();p._TYPE="SendMessageAction";var g=function(){function e(){Object(m.a)(this,e),this.type=void 0,this.meta=void 0}return Object(l.a)(e,null,[{key:"_reduce",value:function(e,t){return{messages:e.messages.filter((function(e){return e.timestamp!==t.meta.timestamp}))}}},{key:"createAction",value:function(t){return{type:e._TYPE,meta:{timestamp:t}}}}]),e}();g._TYPE="DeleteMessageAction";var d={messages:[]};var h=s(18);function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}var y=function(){function e(){Object(m.a)(this,e),this.type=void 0,this.newSystemState=void 0}return Object(l.a)(e,null,[{key:"_reduce",value:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(s,!0).forEach((function(t){Object(h.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{},t.newSystemState)}},{key:"createAction",value:function(t){return{type:e._TYPE,newSystemState:t}}}]),e}();y._TYPE="UpdateSystemStateAction";var v={loggedIn:!1,session:"",userName:""};var _=Object(c.combineReducers)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y._TYPE:return y._reduce(e,t);default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p._TYPE:return p._reduce(e,t);case g._TYPE:return g._reduce(e,t);default:return e}}});s(40);var b=s(26),E=s(19),O=s(27),M=s(11),j=s.n(M),w=s(6),T=s.n(w),k=s(20),P=s.n(k),S=s(21),A=s.n(S),x=new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"});var N=function(e){var t=e.messages,s=e.deleteMessage;return a.createElement("div",{className:T.a.chatHistory},a.createElement("ul",null,t.map((function(e){return a.createElement("li",{className:e.isMe?T.a.you:T.a.other,key:e.timestamp},a.createElement("div",{className:T.a.user,title:e.user},a.createElement("img",{src:e.isMe?A.a:P.a,alt:e.user})),a.createElement("div",{className:T.a.date},(t=e.timestamp,x.format(t))),a.createElement("div",{className:T.a.message},a.createElement("p",null,e.message),a.createElement("button",{onClick:function(){return s(e.timestamp)}},"Delete")));var t}))))},C=s(22),D=s.n(C),H=function(e){e.userName;var t=e.message,s=e.updateMessage,n=e.sendMessage;function r(){n(t)}return a.createElement("div",{className:D.a.chatInterface},a.createElement("input",{value:t,onChange:s,onKeyPress:function(e){"Enter"===e.key&&r()},placeholder:"Type a message..."}),a.createElement("button",{onClick:r},"Send"))},I=s(12),Y=s.n(I),B=s(23),F=function(){function e(){Object(m.a)(this,e)}return Object(l.a)(e,null,[{key:"_getMessageAPI",value:function(){return Promise.resolve({user:"Async Chat Bot",message:"This message was sent by a thunk!"})}},{key:"getMessage",value:function(){return function(){var t=Object(B.a)(Y.a.mark((function t(s){var a;return Y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._getMessageAPI();case 2:a=t.sent,s(p.createAction({user:a.user,message:a.message,timestamp:(new Date).getTime(),isMe:!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]),e}(),J=s(24),R=s.n(J),z=function(e){function t(){var e,s;Object(m.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(s=Object(b.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(n)))).state={message:""},s.updateMessage=function(e){s.setState({message:e.currentTarget.value})},s.sendMessage=function(e){s.props.sendMessage({user:s.props.system.userName,message:e,timestamp:(new Date).getTime(),isMe:!0}),s.setState({message:""})},s}return Object(O.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.updateSystemState({loggedIn:!0,session:"my_session",userName:"My Name"}),this.props.sendMessage({user:"Chat Bot",message:"This is a very basic chat application written in typescript using react and redux. Feel free to explore the source code.",timestamp:(new Date).getTime(),isMe:!1}),this.props.getMessage()}},{key:"render",value:function(){return a.createElement("div",{className:j.a.app},a.createElement("header",null,a.createElement("div",null,a.createElement("img",{src:R.a,width:100,alt:"React Logo"})," "),a.createElement("div",{className:j.a.title},"Chatux Reactux Typescriptux")),a.createElement("section",null,a.createElement(N,{messages:this.props.chat.messages,deleteMessage:this.props.deleteMessage})),a.createElement("footer",null,a.createElement(H,{userName:this.props.system.userName,message:this.state.message,updateMessage:this.updateMessage,sendMessage:this.sendMessage})))}}]),t}(a.Component),K={sendMessage:p.createAction,deleteMessage:g.createAction,updateSystemState:y.createAction,getMessage:F.getMessage},W=Object(r.b)((function(e){return{system:e.system,chat:e.chat}}),K)(z),q=function(){var e=[i.a],t=c.applyMiddleware.apply(void 0,e);return Object(c.createStore)(_,Object(o.composeWithDevTools)(t))}();setTimeout((function(){q.dispatch(p.createAction({user:"Their Name",message:"What do you think about react, redux or typescript?",timestamp:(new Date).getTime(),isMe:!1}))}),5555);Object(n.render)(a.createElement((function(){return a.createElement(r.a,{store:q},a.createElement(W,null))}),null),document.getElementById("root"))},6:function(e,t,s){e.exports={chatHistory:"ChatHistory_chatHistory__2Smzy",user:"ChatHistory_user__3K-8t",date:"ChatHistory_date__2o1qH",message:"ChatHistory_message__14ciz",other:"ChatHistory_other__gZ86J",you:"ChatHistory_you__11r0F"}}},[[28,1,2]]]);
//# sourceMappingURL=main.cf3f399e.chunk.js.map