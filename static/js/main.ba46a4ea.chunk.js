(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,s){e.exports={app:"App_app__13Yue",title:"App_title__21tVk"}},20:function(e,t,s){e.exports=s.p+"static/media/fox.515ea565.png"},21:function(e,t,s){e.exports=s.p+"static/media/bot.caa4eec2.png"},22:function(e,t,s){e.exports={chatHistory:"ChatHistory_chatHistory__3ic3w"}},23:function(e,t,s){e.exports={chatInterface:"ChatInterface_chatInterface__1kXxs"}},25:function(e,t,s){e.exports=s.p+"static/media/logo.5d5d9eef.svg"},29:function(e,t,s){e.exports=s(43)},41:function(e,t,s){},43:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(7),r=s(8),c=s(4),i=s(16),o=s(17),u=s(26),m=s(1),l=s(2),p=function(){function e(){Object(m.a)(this,e),this.type=void 0,this.newMessage=void 0}return Object(l.a)(e,null,[{key:"_reduce",value:function(e,t){return{messages:[].concat(Object(u.a)(e.messages),[t.newMessage])}}},{key:"createAction",value:function(t){return{type:e._TYPE,newMessage:t}}}]),e}();p._TYPE="SendMessageAction";var g=function(){function e(){Object(m.a)(this,e),this.type=void 0,this.meta=void 0}return Object(l.a)(e,null,[{key:"_reduce",value:function(e,t){return{messages:e.messages.filter((function(e){return e.timestamp!==t.meta.timestamp}))}}},{key:"createAction",value:function(t){return{type:e._TYPE,meta:{timestamp:t}}}}]),e}();g._TYPE="DeleteMessageAction";var d={messages:[]};var f=s(18);function h(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,a)}return s}var y=function(){function e(){Object(m.a)(this,e),this.type=void 0,this.newSystemState=void 0}return Object(l.a)(e,null,[{key:"_reduce",value:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?h(s,!0).forEach((function(t){Object(f.a)(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},e,{},t.newSystemState)}},{key:"createAction",value:function(t){return{type:e._TYPE,newSystemState:t}}}]),e}();y._TYPE="UpdateSystemStateAction";var v={loggedIn:!1,session:"",userName:""};var _=Object(c.combineReducers)({system:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y._TYPE:return y._reduce(e,t);default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p._TYPE:return p._reduce(e,t);case g._TYPE:return g._reduce(e,t);default:return e}}});s(41);var b=s(27),M=s(19),E=s(28),O=s(11),j=s.n(O),w=s(6),T=s.n(w),k=s(20),P=s.n(k),x=s(21),S=s.n(x),A=new Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),C=function(e){var t,s=e.message,n=e.deleteMessage;return a.createElement("li",{className:s.isMe?T.a.you:T.a.other,key:s.timestamp},a.createElement("div",{className:T.a.user,title:s.user},a.createElement("img",{src:s.isMe?P.a:S.a,alt:s.user})),a.createElement("div",{className:T.a.date},(t=s.timestamp,A.format(t))),a.createElement("div",{className:T.a.message},a.createElement("p",null,s.message),a.createElement("button",{onClick:function(){return n(s.timestamp)}},"Delete")))},N=s(22),D=s.n(N),I=function(e){var t=e.messages,s=e.deleteMessage;return a.createElement("div",{className:D.a.chatHistory},a.createElement("ul",null,t.map((function(e){return a.createElement(C,{key:e.timestamp,message:e,deleteMessage:s})}))))},Y=s(23),H=s.n(Y),B=function(e){var t=e.userName,s=e.message,n=e.updateMessage,r=e.sendMessage;function c(){r(s)}return a.createElement("div",{className:H.a.chatInterface},a.createElement("input",{value:s,onChange:n,onKeyPress:function(e){"Enter"===e.key&&c()},placeholder:"".concat(t,", type a message...")}),a.createElement("button",{onClick:c},"Send"))},F=s(12),R=s.n(F),J=s(24),W=function(){function e(){Object(m.a)(this,e)}return Object(l.a)(e,null,[{key:"_getMessageAPI",value:function(){return Promise.resolve({user:"Async Chat Bot",message:"This message was sent by a thunk!"})}},{key:"getMessage",value:function(){return function(){var t=Object(J.a)(R.a.mark((function t(s){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._getMessageAPI();case 2:a=t.sent,s(p.createAction({user:a.user,message:a.message,timestamp:(new Date).getTime(),isMe:!1}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}]),e}(),X=s(25),Z=s.n(X),G=function(e){function t(){var e,s;Object(m.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(s=Object(b.a)(this,(e=Object(M.a)(t)).call.apply(e,[this].concat(n)))).state={message:""},s.updateMessage=function(e){s.setState({message:e.currentTarget.value})},s.sendMessage=function(e){s.props.sendMessage({user:s.props.system.userName,message:e,timestamp:(new Date).getTime(),isMe:!0}),s.setState({message:""})},s}return Object(E.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.updateSystemState({loggedIn:!0,session:"my_session",userName:"Foxy Troxy"}),this.props.sendMessage({user:"Chat Bot",message:"This is a very basic chat application written in typescript using react and redux. Feel free to explore the source code.",timestamp:(new Date).getTime(),isMe:!1}),this.props.getMessage()}},{key:"render",value:function(){return a.createElement("div",{className:j.a.app},a.createElement("header",null,a.createElement("div",null,a.createElement("img",{src:Z.a,width:100,alt:"React Logo"})," "),a.createElement("div",{className:j.a.title},"Chatux Reactux Typescriptux")),a.createElement("section",null,a.createElement(I,{messages:this.props.chat.messages,deleteMessage:this.props.deleteMessage})),a.createElement("footer",null,a.createElement(B,{userName:this.props.system.userName,message:this.state.message,updateMessage:this.updateMessage,sendMessage:this.sendMessage})))}}]),t}(a.Component),K={sendMessage:p.createAction,deleteMessage:g.createAction,updateSystemState:y.createAction,getMessage:W.getMessage},L=Object(r.b)((function(e){return{system:e.system,chat:e.chat}}),K)(G),U=function(){var e=[i.a],t=c.applyMiddleware.apply(void 0,e);return Object(c.createStore)(_,Object(o.composeWithDevTools)(t))}();setTimeout((function(){U.dispatch(p.createAction({user:"Their Name",message:"What do you think about react, redux or typescript?",timestamp:(new Date).getTime(),isMe:!1}))}),5555);Object(n.render)(a.createElement((function(){return a.createElement(r.a,{store:U},a.createElement(L,null))}),null),document.getElementById("root"))},6:function(e,t,s){e.exports={user:"ChatMessage_user__CIXTe",date:"ChatMessage_date__1n-fT",message:"ChatMessage_message__aZ0gy",other:"ChatMessage_other__1-ua1",you:"ChatMessage_you__dAHZY"}}},[[29,1,2]]]);
//# sourceMappingURL=main.ba46a4ea.chunk.js.map